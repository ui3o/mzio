(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[332],{3757:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>p});var a=s(7876),l=s(4232),r=s(7328),n=s.n(r),i=s(252),c=s(7989),o=s(7634),d=s(747),u=s(1874),x=s(9884);s(2934);var h=s(8615);let m=["calories","protein","carbs","fat"],g=["#34D399","#60A5FA","#FBBF24","#F87171"];function p(){let[e,t]=(0,l.useState)("dashboard"),[s,r]=(0,l.useState)({calories:1200,protein:60,carbs:150,fat:40}),[p,w]=(0,l.useState)(!1),[y,f]=(0,l.useState)(""),[N,v]=(0,l.useState)(!1),[k,C]=(0,l.useState)(""),_=(e,t)=>{r(s=>({...s,[e]:t}))},S=m.map(e=>({name:j(e),value:s[e]})),T=async()=>{try{window.google.accounts.oauth2.initTokenClient({client_id:"378903500840-emqlik205crbf9p9ddtd1cdog910m23d.apps.googleusercontent.com",scope:"https://www.googleapis.com/auth/calendar.events",callback:async e=>{let t=window.gapi;await t.load("client",async()=>{alert("client start"),await t.client.init({apiKey:"",discoveryDocs:["https://www.googleapis.com/discovery/v1/apis/calendar/v3/rest"]}),alert("token start"),t.client.setToken({access_token:e.access_token});let s={summary:"Nutrition Log",description:"Daily nutrition summary",start:{dateTime:new Date().toISOString(),timeZone:"UTC"},end:{dateTime:new Date(Date.now()+36e5).toISOString(),timeZone:"UTC"}};await t.client.calendar.events.insert({calendarId:"primary",resource:s}),alert("Event added to your Google Calendar.")})}}).requestAccessToken()}catch(e){console.error("Calendar Sync Error:",e),alert("Google Calendar sync failed.")}};return(0,a.jsxs)("div",{className:"".concat(p?"bg-gray-900 text-white":"bg-white text-gray-800"," min-h-screen p-4 sm:p-8 relative"),children:[(0,a.jsxs)(n(),{children:[(0,a.jsx)("title",{children:"Nutrition Tracker"}),(0,a.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,a.jsx)("script",{src:"https://accounts.google.com/gsi/client",async:!0,defer:!0}),(0,a.jsx)("script",{src:"https://apis.google.com/js/api.js",async:!0,defer:!0}),(0,a.jsx)("script",{src:"coi-serviceworker.min.js"})]}),(0,a.jsxs)("header",{className:"mb-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("h1",{className:"text-xl sm:text-3xl font-bold text-center w-full",children:"\uD83C\uDF7D Daily Nutrition Tracker"}),(0,a.jsx)("button",{onClick:()=>w(!p),className:"ml-auto p-2 rounded-full","aria-label":"Toggle Dark Mode",children:p?(0,a.jsx)(h.Wh$,{size:20}):(0,a.jsx)(h.hkc,{size:20})})]}),(0,a.jsx)("div",{className:"my-4 space-y-2",children:m.map((e,t)=>(0,a.jsxs)("div",{className:"w-full",children:[(0,a.jsxs)("div",{className:"flex justify-between mb-1",children:[(0,a.jsx)("span",{className:"text-sm font-medium capitalize",children:e}),(0,a.jsxs)("span",{className:"text-sm",children:[s[e],"calories"===e?" kcal":" g"]})]}),(0,a.jsx)("div",{className:"w-full rounded-full h-3 ".concat(p?"bg-gray-700":"bg-gray-200"),children:(0,a.jsx)("div",{className:"h-3 rounded-full",style:{width:"".concat(Math.min(s[e]/2e3*100,100),"%"),backgroundColor:g[t%g.length]}})})]},e))}),(0,a.jsxs)("div",{className:"flex justify-center mt-4",children:[(0,a.jsx)("button",{onClick:()=>t("dashboard"),className:"px-4 py-2 rounded-l ".concat("dashboard"===e?"bg-teal-400 text-white":p?"bg-gray-600 text-white":"bg-gray-200 text-gray-800"),children:"Dashboard"}),(0,a.jsxs)("button",{onClick:()=>t("settings"),className:"px-4 py-2 rounded-r flex items-center gap-1 ".concat("settings"===e?"bg-teal-400 text-white":p?"bg-gray-600 text-white":"bg-gray-200 text-gray-800"),children:[(0,a.jsx)(h.VSk,{})," Settings"]})]})]}),"dashboard"===e?(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("div",{className:"w-full h-64",children:(0,a.jsx)(i.u,{children:(0,a.jsxs)(c.r,{children:[(0,a.jsx)(o.F,{data:S,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:80,fill:"#8884d8",label:!0,children:S.map((e,t)=>(0,a.jsx)(d.f,{fill:g[t%g.length]},"cell-".concat(t)))}),(0,a.jsx)(u.m,{}),(0,a.jsx)(x.s,{})]})})}),m.map(e=>(0,a.jsx)(b,{label:j(e),value:s[e],unit:"calories"===e?"kcal":"g"},e)),(0,a.jsx)("div",{className:"mt-6",children:(0,a.jsx)("textarea",{value:k,onChange:e=>C(e.target.value),onInput:e=>{let t=e.currentTarget;t.style.height="auto",t.style.height=t.scrollHeight+"px"},placeholder:"Ask something about your nutrition...",rows:1,className:"w-full min-h-[3rem] p-4 rounded-3xl border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-black dark:text-white shadow-md focus:outline-none focus:ring-2 focus:ring-teal-400 resize-none overflow-hidden transition-all"})}),(0,a.jsx)("button",{onClick:()=>T(),className:"px-4 py-2 bg-blue-600 text-white rounded mt-4",children:"Sign in with Google"})]}):(0,a.jsxs)("div",{className:"space-y-4",children:[m.map(e=>(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("label",{className:"font-medium capitalize",children:e}),(0,a.jsx)("input",{type:"number",value:s[e],onChange:t=>_(e,Number(t.target.value)),className:"border rounded p-2 w-24 text-black"})]},e)),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("label",{className:"font-medium",children:"Password"}),(0,a.jsx)("input",{type:N?"text":"password",value:y,onChange:e=>f(e.target.value),className:"border rounded p-2 w-48 text-black",placeholder:"Enter password"}),(0,a.jsx)("button",{onClick:()=>v(e=>!e),"aria-label":"Toggle password visibility",children:N?(0,a.jsx)(h._NO,{}):(0,a.jsx)(h.Vap,{})})]})]}),(0,a.jsxs)("div",{className:"fixed bottom-6 right-6 flex flex-col gap-4",children:[(0,a.jsx)("button",{className:"w-14 h-14 bg-teal-500 text-white rounded-full shadow-lg text-xl flex items-center justify-center",children:(0,a.jsx)(h.GGD,{size:24})}),(0,a.jsx)("button",{className:"w-14 h-14 bg-gray-500 text-white rounded-full shadow-lg text-xl flex items-center justify-center",children:(0,a.jsx)(h.Rrl,{size:24})})]})]})}function b(e){let{label:t,value:s,unit:l}=e;return(0,a.jsxs)("div",{className:"p-4 bg-gray-100 dark:bg-gray-800 rounded-lg shadow-md",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold",children:t}),(0,a.jsxs)("p",{className:"text-2xl font-bold",children:[s," ",(0,a.jsx)("span",{className:"text-sm",children:l})]})]})}function j(e){return e.charAt(0).toUpperCase()+e.slice(1)}},6760:(e,t,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return s(3757)}])}},e=>{var t=t=>e(e.s=t);e.O(0,[141,452,636,593,792],()=>t(6760)),_N_E=e.O()}]);